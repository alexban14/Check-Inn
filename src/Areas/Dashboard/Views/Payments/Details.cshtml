@model Check_Inn.Areas.Dashboard.ViewModels.PaymentDetailsModel
@{
    ViewBag.Title = "Payment Details";
    Layout = "~/Areas/Dashboard/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col col-lg-12">
        <h2>Payment Details</h2>
        <hr />
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h4>Payment Information</h4>
            </div>
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-4">Payment ID:</dt>
                    <dd class="col-sm-8">@Model.Payment.ID</dd>

                    <dt class="col-sm-4">Amount:</dt>
                    <dd class="col-sm-8">$@Model.Payment.Amount.ToString("N2")</dd>

                    <dt class="col-sm-4">Status:</dt>
                    <dd class="col-sm-8">
                        @if (Model.Payment.PaymentStatus == "Completed")
                        {
                            <span class="badge bg-success">@Model.Payment.PaymentStatus</span>
                        }
                        else if (Model.Payment.PaymentStatus == "Pending")
                        {
                            <span class="badge bg-warning">@Model.Payment.PaymentStatus</span>
                        }
                        else if (Model.Payment.PaymentStatus == "Failed")
                        {
                            <span class="badge bg-danger">@Model.Payment.PaymentStatus</span>
                        }
                        else
                        {
                            <span class="badge bg-secondary">@Model.Payment.PaymentStatus</span>
                        }
                    </dd>

                    <dt class="col-sm-4">Date:</dt>
                    <dd class="col-sm-8">@Model.Payment.PaymentDate.ToString("g")</dd>

                    <dt class="col-sm-4">Stripe Intent ID:</dt>
                    <dd class="col-sm-8">@Model.Payment.StripePaymentIntentId</dd>

                    <dt class="col-sm-4">Stripe Charge ID:</dt>
                    <dd class="col-sm-8">@(Model.Payment.StripeChargeId ?? "N/A")</dd>

                    <dt class="col-sm-4">Notes:</dt>
                    <dd class="col-sm-8">@(Model.Payment.Notes ?? "N/A")</dd>
                </dl>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h4>Booking Information</h4>
            </div>
            <div class="card-body">
                <dl class="row">
                    <dt class="col-sm-4">Booking ID:</dt>
                    <dd class="col-sm-8">@Model.Booking.ID</dd>

                    <dt class="col-sm-4">Guest Name:</dt>
                    <dd class="col-sm-8">@Model.Booking.GuestName</dd>

                    <dt class="col-sm-4">Email:</dt>
                    <dd class="col-sm-8">@Model.Booking.Email</dd>

                    <dt class="col-sm-4">Accommodation:</dt>
                    <dd class="col-sm-8">@Model.Booking.Accomodation.Name</dd>

                    <dt class="col-sm-4">Check-in:</dt>
                    <dd class="col-sm-8">@Model.Booking.FromDate.ToLongDateString()</dd>

                    <dt class="col-sm-4">Duration:</dt>
                    <dd class="col-sm-8">@Model.Booking.Duration nights</dd>

                    <dt class="col-sm-4">Guests:</dt>
                    <dd class="col-sm-8">@Model.Booking.NoOfAdults adults, @Model.Booking.NoOfChildren children</dd>
                </dl>
            </div>
        </div>
    </div>
</div>

<div class="row mt-3">
    <div class="col col-lg-12">
        <a href="@Url.Action("Index")" class="btn btn-outline-secondary">
            <i class="fa-solid fa-arrow-left me-1"></i> Back to Payments
        </a>
    </div>
</div>
